---
id: 20250807-0000.x3Ju
title: Upgrade to Expo SDK 52
created: '2025-08-07'
updated: '2025-08-07'
spec: null
project: null
status: todo
archived: false
---

Upgrade the Gatz chat app from Expo SDK 51 to SDK 52 with minimal testing approach and Legacy Architecture retention.

## Implementation Requirements

**Core Upgrade Steps:**
1. **Expo SDK Update**: Upgrade from `~51.0.21` to `~52.0.0` 
2. **Dependencies Update**: Run `npx expo install --fix` to update all Expo/React Native dependencies
3. **React Native Update**: Auto-update to 0.77.x (bundled with SDK 52)
4. **Breaking Changes**: Fix all SDK 52 breaking changes during upgrade process
5. **Development Builds**: Create new EAS development builds for iOS and Android testing

**Architecture Decision:**
- **Stay on Legacy Architecture** for now (defer New Architecture migration to later)
- Add configuration to explicitly disable New Architecture if needed

**Breaking Changes to Address:**
- **expo-av Video API**: Migrate away from deprecated Video API immediately
- **iOS Deployment Target**: Update to 15.1 minimum
- **Android SDK**: Update compileSdkVersion to 35, minSdkVersion to 24
- **React Navigation**: Handle automatic v7 upgrade via Expo Router
- **Full Screen Splash**: Update Android splash screen implementation if using full screen

**Vendor Dependencies:**
- Update all vendored React Native components in `/app/vendor/` for RN 0.77 compatibility
- Key vendors: react-native-image-gallery, react-native-phone-number-input, react-native-country-picker-modal

**Build Requirements:**
- **Xcode**: Ensure 16.1 compatibility for iOS builds
- **EAS Builds**: Create new development builds post-upgrade
- **Native Directories**: Delete and regenerate `android/ios` directories (using Continuous Native Generation)

**Testing Approach:**
- **No automated testing** - manual compilation and runtime testing only
- **Platforms**: Test compilation on iOS, Android, and web
- **EAS Development Builds**: Create and test on actual devices

## Success Criteria
- ✅ App compiles successfully on all platforms
- ✅ EAS development builds can be created
- ✅ App runs without crashes on manual testing
- ✅ All breaking changes addressed
- ✅ Vendor dependencies compatible with new React Native version

## Post-Upgrade Tasks
- Create EAS development builds for testing
- Manual testing on iOS, Android, and web platforms
- Address any runtime issues discovered during testing