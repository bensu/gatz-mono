---
id: 20250807-rYE_.ufCz
title: Implement Google Sign-In backend integration
created: '2025-08-07'
updated: '2025-08-07'
spec: 20250807-rYE_
project: auth
status: todo
archived: false
---

Implement server-side Google Sign-In integration using direct OAuth 2.0.

## Requirements
- Add POST /auth/google endpoint for new user sign-in
- Add POST /auth/link-google endpoint for linking to existing accounts
- Validate Google ID tokens from client
- Create JWT tokens for authenticated users
- Support cross-platform Google Sign-In flows

## Implementation Details
- Integrate with Google OAuth 2.0 API
- Validate Google ID tokens using Google's public keys
- Extract user information (google_id, email)
- Create user records with auth_method='google'
- Generate Gatz JWT tokens for authenticated sessions
- Handle Google token refresh if needed

## Security Considerations
- Verify Google ID token signatures
- Validate token audience and issuer
- Check token expiration times
- Rate limiting on auth endpoints
- Validate client_id matches expected value

## Acceptance Criteria
- [ ] POST /auth/google endpoint accepts Google ID tokens
- [ ] Google ID token validation works correctly
- [ ] New users can sign up with Google Sign-In
- [ ] JWT tokens generated for Google Sign-In users
- [ ] Works across mobile and web platforms
- [ ] Error handling for invalid/expired tokens